"use strict";(self.webpackChunkteaProject=self.webpackChunkteaProject||[]).push([[519],{7519:(C,u,n)=>{n.r(u),n.d(u,{ProductsModule:()=>y});var a=n(177),i=n(3536),t=n(8699),p=n(1626);let s=(()=>{class r{constructor(e){this.http=e}getProducts(){return this.http.get("https://testologia.ru/tea")}getProduct(e){return this.http.get(`https://testologia.ru/tea?id=${e}`)}static{this.\u0275fac=function(o){return new(o||r)(t.KVO(p.Qq))}}static{this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac})}}return r})(),l=(()=>{class r{transform(e){let o="";return e.length>95&&(o=e.slice(0,200)),o+"..."}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275pipe=t.EJ8({name:"splitDescription",type:r,pure:!0})}}return r})();const m=function(r){return["/products/product",r]};function h(r,b){if(1&r&&(t.j41(0,"div",4)(1,"div",5),t.nrm(2,"img",6),t.j41(3,"div",7)(4,"h5",8),t.EFF(5),t.k0s(),t.j41(6,"p",9),t.EFF(7),t.nI1(8,"splitDescription"),t.k0s(),t.j41(9,"a",10),t.EFF(10,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.k0s()()()()),2&r){const e=b.$implicit;t.R7$(2),t.FS9("src",e.image,t.B4B),t.R7$(3),t.JRh(e.title),t.R7$(2),t.JRh(t.bMT(8,4,e.description)),t.R7$(2),t.Y8G("routerLink",t.eq3(6,m,e.id))}}const f=function(r){return{product:r}},F=[{path:"catalog",component:(()=>{class r{constructor(e,o){this.productsService=e,this.router=o,this.products=[],this.subscription=null}ngOnInit(){this.subscription=this.productsService.getProducts().subscribe({next:e=>{this.products=e},error:e=>{console.log(e),this.router.navigate(["/"]).then()}})}static{this.\u0275fac=function(o){return new(o||r)(t.rXU(s),t.rXU(i.Ix))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["catalog-component"]],decls:5,vars:1,consts:[[1,"container","mt-5"],[1,"text-center","mt-5","mb-4","fw-bold"],[1,"row","justify-content-center","row-cols-auto"],["class","col-lg-4 col-sm-6 col-12 mt-4 d-flex",4,"ngFor","ngForOf"],[1,"col-lg-4","col-sm-6","col-12","mt-4","d-flex"],[1,"card"],["alt","Tea1",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","align-items-start"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","px-5","mt-auto",3,"routerLink"]],template:function(o,c){1&o&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2,"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"),t.k0s(),t.j41(3,"div",2),t.DNE(4,h,11,8,"div",3),t.k0s()()),2&o&&(t.R7$(4),t.Y8G("ngForOf",c.products))},dependencies:[a.Sq,i.Wk,l]})}}return r})()},{path:"product/:id",component:(()=>{class r{constructor(e,o,c){this.productsService=e,this.router=o,this.activatedRoute=c,this.product={id:0,image:"",title:"",price:0,description:""}}ngOnInit(){this.activatedRoute.params.subscribe(e=>{e.id&&this.productsService.getProduct(+e.id).subscribe({next:o=>{this.product=o},error:o=>{this.router.navigate(["/"]).then()}})})}static{this.\u0275fac=function(o){return new(o||r)(t.rXU(s),t.rXU(i.Ix),t.rXU(i.nX))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["product-component"]],decls:13,vars:7,consts:[[1,"container","mt-5"],[1,"card-product","mt-4","d-flex","flex-column"],[1,"card-title","text-center"],[1,"card-info","d-flex"],[1,"card-buy","d-flex"],["alt","Tea1",1,"card-buy-image",3,"src"],[1,"card-buy-price"],["routerLink","/order",1,"card-buy-button","btn","btn-primary","px-5","mt-auto",3,"queryParams"],[1,"card-description"]],template:function(o,c){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h5",2),t.EFF(3),t.k0s(),t.j41(4,"div",3)(5,"div",4),t.nrm(6,"img",5),t.j41(7,"div",6),t.EFF(8),t.k0s(),t.j41(9,"a",7),t.EFF(10,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.k0s()(),t.j41(11,"p",8),t.EFF(12),t.k0s()()()()),2&o&&(t.R7$(3),t.JRh(c.product.title),t.R7$(3),t.FS9("src",c.product.image,t.B4B),t.R7$(2),t.SpI("",c.product.price,"\u20bd"),t.R7$(1),t.Y8G("queryParams",t.eq3(5,f,c.product.title)),t.R7$(3),t.JRh(c.product.description))},dependencies:[i.Wk],styles:[".card-product[_ngcontent-%COMP%]{border:1px solid lightgray}.card-title[_ngcontent-%COMP%]{font-size:50px}.card-info[_ngcontent-%COMP%]{align-items:center;padding:30px}.card-buy[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.card-buy-image[_ngcontent-%COMP%]{width:500px}.card-buy-price[_ngcontent-%COMP%]{margin-bottom:10px;font-size:30px;font-weight:700}.card-buy-button[_ngcontent-%COMP%]{width:400px}"]})}}return r})()}];let d=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[i.iI.forChild(F),i.iI]})}}return r})();var v=n(3887);let y=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({providers:[s],imports:[a.MD,v.G,d,i.iI,d]})}}return r})()}}]);